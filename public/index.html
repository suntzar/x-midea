<!DOCTYPE html>
<html lang="pt-br" data-theme="sakura-dark">
  <!-- Tema padrão definido para Sakura Dark -->

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Media Vault - Seu Gerenciador de Mídias</title>

    <!-- Favicon SVG incorporado via Base64 -->
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNy4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UvZnJlZSBDb3B5cmlnaHQgMjAyNSBGb250aWNvbnMsIEluYy4tLT48cGF0aCBmaWxsPSIjZGI2MzlmIiBkPSJNNjQgNjRjMC0zNS4zIDU2LjctNjQgMTI4LTY0cy02NCAyOC43LTY0IDY0VjM1MmgyNTZWMjU2YzAtMzUuMyA1Ni43LTY0IDEyOC02NHM2NCAyOC43IDY0IDY0VjQ0OGM0Mi41IDAtNzcuMyAxNy42LTEwMi42IDQyLjljLTI1LjMgMjUuMy00Mi45IDc3LjMtNDIuOSA1Ny4xVjM1MkgxOTJjLTM1LjMgMC02NCAyOC43LTY0IDY0VjQ0OGMwIDM1LjMgNTYuNyA2NCAxMjggNjRzNjQtMjguNyA2NC02NFYyNTZoMjU2VjM1MmMwIDM1LjMgNTYuNyA2NCAxMjggNjRzNjQtMjguNyA2NC02NFY2NGMwLTM1LjMtNTYuNy02NC0xMjgtNjRzLTY0IDI4LjctNjQgNjRWMjU2SDI1NlY2NGMwLTM1LjMgNTYuNy02NCAxMjgtNjRzNjQgMjguNyA2NCA2NFYxOTJoNjRWMjU2SDM4NFY2NEg2NHoiLz48L3N2Zz4=" type="image/svg+xml" />

    <!-- DEPENDÊNCIAS DE TERCEIROS (Ícones) -->
    <script defer src="https://unpkg.com/feather-icons"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

    <!-- BIBLIOTECA NOXSS (ÚNICA DEPENDÊNCIA DE ESTILO) -->
    <link rel="stylesheet" href="noxss/dist/noxss.css" />

    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body data-noxss-layout="app">
    <div class="noxss-layout">
      <!-- Navbar -->
      <nav class="noxss-navbar">
        <a class="noxss-navbar__brand" href="#">
          <i data-feather="image" class="noxss-icon" style="color: var(--noxss-accent-primary)"></i>
          <span>Media Vault</span>
        </a>
      </nav>

      <!-- Conteúdo Principal -->
      <main class="noxss-layout__content">
        <div class="noxss-tabs" data-default-tab="feed">
          <div class="noxss-tabs__header noxss-desktop-nav">
            <button class="noxss-tabs__header-button" data-tab-id="feed"><i data-feather="list" class="noxss-icon"></i> Feed</button>
            <button class="noxss-tabs__header-button" data-tab-id="search"><i data-feather="search" class="noxss-icon"></i> Buscar</button>
            <button class="noxss-tabs__header-button" data-tab-id="favorites"><i data-feather="heart" class="noxss-icon"></i> Favoritos</button>
            <button class="noxss-tabs__header-button" data-tab-id="history"><i data-feather="clock" class="noxss-icon"></i> Histórico</button>
            <button class="noxss-tabs__header-button" data-tab-id="settings"><i data-feather="settings" class="noxss-icon"></i> Ajustes</button>
          </div>

          <div class="noxss-tabs__content-area">
            <!-- Painel: Feed -->
            <div class="noxss-tabs__panel" id="panel-feed">
              <div class="noxss-panel-container">
                <div class="noxss-form-group">
                  <select id="filter-type" class="noxss-select">
                    <option value="index">Todos</option>
                    <option value="hara_id_21">hara id 21</option>
                    <option value="image">Imagens</option>
                    <option value="video">Vídeos</option>
                  </select>
                </div>
                <div class="feed-masonry" id="feed-container"></div>
                <div id="loading" class="text-center my-4" style="display: none">
                  <div class="noxss-spinner">
                    <div></div>
                    <div></div>
                    <div></div>
                  </div>
                </div>
                <div class="text-center mt-3"><button id="load-more" class="noxss-btn noxss-btn--secondary">Carregar mais</button></div>
              </div>
            </div>

            <!-- Painel: Busca -->
            <div class="noxss-tabs__panel" id="panel-search">
              <div class="noxss-panel-container">
                <form id="search-form" class="mb-3">
                  <div class="noxss-input-group">
                    <input type="search" class="noxss-input" placeholder="Digite as tags (ex: tag1 tag2)" id="search-input" autocomplete="off" />
                    <button class="noxss-btn noxss-btn--primary" type="submit"><i data-feather="search" class="noxss-icon"></i></button>
                    <div id="autocomplete-container" class="autocomplete-suggestions" style="display: none"></div>
                  </div>
                </form>
                <div class="feed-masonry" id="search-results"></div>
                <div id="loading-search" class="text-center my-4" style="display: none">
                  <div class="noxss-spinner">
                    <div></div>
                    <div></div>
                    <div></div>
                  </div>
                </div>
                <div class="text-center mt-3"><button id="load-more-search" class="noxss-btn noxss-btn--secondary" style="display: none">Carregar mais</button></div>
              </div>
            </div>

            <!-- Painel: Favoritos -->
            <div class="noxss-tabs__panel" id="panel-favorites">
              <div class="noxss-panel-container">
                <div class="noxss-form-group">
                  <label for="sort-favorites" class="noxss-label">Ordenar por:</label>
                  <select id="sort-favorites" class="noxss-select">
                    <option value="date">Data de Adição</option>
                    <option value="tags">Tags (A-Z)</option>
                  </select>
                </div>
                <div class="feed-masonry" id="favorites-container"></div>
              </div>
            </div>

            <!-- Painel: Histórico -->
            <div class="noxss-tabs__panel" id="panel-history">
              <div class="noxss-panel-container">
                <div id="history-list"></div>
              </div>
            </div>

            <!-- Painel: Ajustes -->
            <div class="noxss-tabs__panel" id="panel-settings">
              <div class="noxss-panel-container">
                <div class="noxss-form-group">
                  <label for="theme-select" class="noxss-label">Tema Visual</label>
                  <select id="theme-select" class="noxss-select">
                    <option value="sakura-dark">Sakura Dark (Rosa)</option>
                    <option value="sakura">Sakura Light (Rosa)</option>
                    <option value="twitter-dark">Twitter Dark</option>
                    <option value="dark">Noxss Dark</option>
                    <option value="light">Noxss Light</option>
                  </select>
                </div>
                <hr class="my-4" />
                <h5>Gerenciamento de Dados</h5>
                <p class="text-secondary">Limpe seus dados ou faça um backup local.</p>
                <div class="noxss-list noxss-list--inset">
                  <div class="noxss-list-item">
                    <div class="noxss-list-item__content">
                      <div class="noxss-list-item__title">Limpar Histórico</div>
                    </div>
                    <div class="noxss-list-item__trailing">
                      <button id="clear-history" class="noxss-btn noxss-btn--danger noxss-btn--icon" aria-label="Limpar Histórico"><i data-feather="trash-2" class="noxss-icon"></i></button>
                    </div>
                  </div>
                  <div class="noxss-list-item">
                    <div class="noxss-list-item__content">
                      <div class="noxss-list-item__title">Limpar Favoritos</div>
                    </div>
                    <div class="noxss-list-item__trailing">
                      <button id="clear-favorites" class="noxss-btn noxss-btn--danger noxss-btn--icon" aria-label="Limpar Favoritos"><i data-feather="trash-2" class="noxss-icon"></i></button>
                    </div>
                  </div>
                </div>
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem">
                  <button id="download-json-btn" class="noxss-btn noxss-btn--secondary"><i data-feather="download" class="noxss-icon"></i> Baixar Backup</button>
                  <button id="copy-json-btn" class="noxss-btn noxss-btn--secondary"><i data-feather="copy" class="noxss-icon"></i> Copiar Backup</button>
                  <button id="import-backup-btn" class="noxss-btn noxss-btn--secondary"><i data-feather="upload" class="noxss-icon"></i> Importar Backup</button>
                  <input type="file" id="upload-json-input" accept=".json" style="display: none" />
                </div>
                <hr class="my-4" />
                <h5>Tags Indesejadas</h5>
                <div class="noxss-input-group mb-3">
                  <input type="text" class="noxss-input" placeholder="Adicionar tag para filtrar" id="unwanted-tag-input" />
                  <button class="noxss-btn noxss-btn--primary" type="button" id="add-unwanted-tag-btn">Adicionar</button>
                </div>
                <ul id="unwanted-tags-list" class="noxss-list noxss-list--inset"></ul>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Barra de Navegação Inferior (Mobile) -->
      <nav class="noxss-navbar noxss-navbar--bottom noxss-mobile-nav">
        <button class="noxss-tabs__nav-button" data-tab-id="feed" aria-label="Feed"><i data-feather="list" class="noxss-icon"></i></button>
        <button class="noxss-tabs__nav-button" data-tab-id="search" aria-label="Buscar"><i data-feather="search" class="noxss-icon"></i></button>
        <button class="noxss-tabs__nav-button" data-tab-id="favorites" aria-label="Favoritos"><i data-feather="heart" class="noxss-icon"></i></button>
        <button class="noxss-tabs__nav-button" data-tab-id="history" aria-label="Histórico"><i data-feather="clock" class="noxss-icon"></i></button>
        <button class="noxss-tabs__nav-button" data-tab-id="settings" aria-label="Ajustes"><i data-feather="settings" class="noxss-icon"></i></button>
      </nav>
    </div>

    <!-- Modais -->
    <div class="noxss-modal" id="postModal" data-noxss-modal>
      <div class="noxss-modal__dialog modal-full-width">
        <div class="noxss-modal__header">
          <h3 class="noxss-modal__title">Detalhes do Post</h3>
          <button class="noxss-btn noxss-btn--icon noxss-modal__close-btn" data-noxss-modal-close aria-label="Fechar"><i data-feather="x" class="noxss-icon"></i></button>
        </div>
        <div class="noxss-modal__body">
          <div class="modal-content-grid">
            <div class="media-container"></div>
            <div id="modal-details" class="modal-details-column"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="noxss-modal" id="modal-restore-choice" data-noxss-modal>
      <div class="noxss-modal__dialog">
        <div class="noxss-modal__header">
          <h3 class="noxss-modal__title">Restaurar Backup</h3>
          <button class="noxss-btn noxss-btn--icon noxss-modal__close-btn" data-noxss-modal-close aria-label="Fechar"><i data-feather="x" class="noxss-icon"></i></button>
        </div>
        <div class="noxss-modal__body">
          <p>Como você deseja restaurar este backup?</p>
          <p class="text-secondary small"><strong>Mesclar:</strong> Adiciona os dados do backup aos seus dados atuais, sem criar duplicatas. O seu tema atual será mantido.</p>
          <p class="text-secondary small"><strong>Substituir:</strong> Apaga todos os seus dados atuais e os substitui completamente pelos dados do backup.</p>
        </div>
        <div class="noxss-modal__footer"><button class="noxss-btn noxss-btn--secondary" data-noxss-modal-close>Cancelar</button><button id="overwrite-btn" class="noxss-btn noxss-btn--danger">Substituir</button><button id="merge-btn" class="noxss-btn noxss-btn--primary">Mesclar Dados</button></div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="noxss/dist/noxss.js"></script>
    <script src="js/script.js"></script>
  </body>
</html>
